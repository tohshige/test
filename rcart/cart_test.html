<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=shift_jis">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <link rel="stylesheet" href="semantic.min.css">
    <script src="semantic.min.js"></script>

    <link href="css/reset.css" rel="stylesheet" type="text/css">
    <link href="css/common.css" rel="stylesheet" type="text/css">
    <link href="css/cnt_modal.css" rel="stylesheet" type="text/css">

</head>

<script type="text/javascript">
    // $(document).ready(function() {
    // //    $('#target').load('cart_test.html');//temp disable
    //  $('#modal-cero').modal('show');
    // });

    // # link 無効
    $(function() {
        $('a[href="#"].modal-cero').click(function() {
            $('#modal-cero').modal('show');
            return false;
        })
    });
</script>
<pre>
・新しいモーダルTest Of NewModal
・選ばれた選択肢の抽出、ラジオクリックで「選び直すボタン」を有効
・「選び直すボタン」により、選択リット＆数量選択無効
・ラジオボタン選んだら数量選択有効
・数量まで選択されたら「購入する」ボタン有効
</pre>
<p><a href="#" class="modal-cero arrow_01">商品詳細を見る</a></p>
  <!--  modal -->
  <div id="modal-cero" class="ui modal">
  <i class="close icon"></i>
        <!-- <div class="btnClose">
          <a class="simplemodal-close" href="#"><img width="17" height="17" src="img/btn_close_01.gif"></a>
      </div> -->
      <h2 class="title01"><img src="img/cero_title.jpg" width="642" height="30"></h2>
      <ul>
          <li class="point1">
              <div class="image"><img src="img/cero_img_01.jpg" width="228" height="169"></div>
              <div class="text">
                  <h3><img src="img/cero_mttl_01.gif" width="353" height="48"></h3>
                  <p>網状素材の「ナノブリッド&reg;」と、硬わた素材の「ファイバークッション」を2層に重ねた独自の両面仕様。<br> 夏は通気性の良い「ナノブリッド&reg;」面を上に、冬はあたたかい「ファイバークッション」を上に、と季節に合わせた使い分けが可能です。
                      <br>
                  </p>
              </div>
          </li>
          <li class="point2">
              <div class="image"><img src="img/cero_img_02.jpg" width="228" height="169"></div>
              <div class="text">
                  <h3><img src="img/cero_mttl_02.gif" width="353" height="48"></h3>
                  <p>「ナノブリッド&reg;」はもちろん、「ファイバークッション」も水洗いできるので、不快感の原因になる汗やホコリをきれいに洗い流すことができて夏でも清潔に保てます。<br>
                  </p>
              </div>
          </li>
          <li class="point3">
              <div class="image"><img src="img/cero_img_03.jpg" width="226" height="205"></div>
              <div class="text">
                  <h3><img src="img/cero_mttl_03.gif" width="353" height="48"></h3>
                  <p>メッシュ素材とジャージー素材の両面仕様。中の素材は6つのブロックに分かれているので、カバーへの出し入れが簡単です。<br> 「ナノブリッド&reg;」側にメッシュ面を、「ファイバークッション」側にジャージー面をあわせてお使いください。
                  </p>
              </div>
          </li>
      </ul>
</div>


<form id="allform">
<div class="ui top attached button">Button before grid</div>


<!-- select -->
<div id="all" class="ui grid container">
  <!-- radio -->
<li>
  <div class="four wide column">
  <div class="photo"><img src="img/mattress_neo_w260.jpg" width="256"></div>
  <div class="text">
      <h4 class="long">トゥルースリーパー ネオフィール<br><span>（マットレス）</span></h4>
      <p>通常販売価格：<em>22,800</em>円(税抜)〜</p>
      <p><a href="#" class="modal-neofeel arrow_01">商品詳細を見る</a></p>
      <dl class="selectNum">
          <dt style="padding:8px 0 0;">シングルサイズ</dt>
          <dd><input type="radio" name="radio1" value="S"></dd>
          <dt style="padding:8px 0 0;">セミダブルサイズ</dt>
          <dd><input type="radio" name="radio1" value="SD"></dd>
          <dt style="padding:8px 0 10px;">ダブルサイズ</dt>
          <dd><input type="radio" name="radio1" value="W"></dd>
      </dl>
      <p><span class="note_04">※キャンペーン対象商品</span></p>
  </div>
  </div>
</li>
<li>
    <div class="photo"><img src="img/mattress_excellent_single_w260.jpg" width="258"></div>
    <div class="text">
        <h4 class="long">トゥルースリーパー エクセレント<br><span>（低反発マットレス）</span></h4>
        <p>通常販売価格：<em>29,800</em>円(税抜)〜</p>
        <p><a href="#" class="modal-excellent arrow_01">商品詳細を見る</a></p>
        <dl class="selectNum">
            <dt style="padding:8px 0 0;">シングルサイズ</dt>
            <dd><input type="radio" name="radio3" value="S"></dd>
            <dt style="padding:8px 0 0;">セミダブルサイズ</dt>
            <dd><input type="radio" name="radio3" value="SD"></dd>
            <dt style="padding:8px 0 10px;">ダブルサイズ</dt>
            <dd><input type="radio" name="radio3" value="W"></dd>
        </dl>
        <p><span class="note_04">※キャンペーン対象商品</span></p>
    </div>
</li>
  <div class="four wide column">
      <h4 class="long">トゥルースリーパー cero＜セロ＞<br><span>（マットレス）</span></h4>
    <p>通常販売価格：<em>22,800</em>円(税抜)〜</p>
    <p><a href="#" class="modal-cero arrow_01">商品詳細を見る</a></p>
    <p>マットレスを複数購入すると、価格の安いほうが<span class="f_red">【30%OFF!】</span></p>
    <dl class="selectNum">
      <dt>シングルサイズ</dt>
      <dd><select name="cart_122" id="cart_122">
        <option selected="selected">数量</option>
        <option value="1">1</option>
        <option value="2">2</option>
        </select></dd>
      <dt>セミダブルサイズ </dt>
      <dd><select name="cart_123" id="cart_123">
        <option selected="selected">数量</option>
        <option value="1">1</option>
        <option value="2">2</option>
        </select></dd>
      <dt>ダブルサイズ</dt>
      <dd>
        <select name="cart_124" id="cart_124">
          <option selected="selected">数量</option>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
      </dd>
    </dl>
    <p><span class="note_04">※キャンペーン対象商品</span></p>
  </div>

<style>
input[disabled][readonly]{background-color:#CCC;}
</style>

<button id="reset_radio" class="ui sixteen wide column disabled button" >
    <p></p>
    <p class="btn">
        <img alt="マットを選び直す" src="img/btn_buy_selected2.gif" width="365" height="50" >
    </p>
</button>
<button id="go_cart" class="ui sixteen wide column disabled button" >
    <p>選択した商品と合計金額は、次ページでご確認いただけます。</p>
    <p class="btn">
        <img src="img/btn_buy_selected.gif" width="365" height="50" >
    </p>
</button>


<p id=sel class="ui red text"></p>
<div class="ui alert"></div>

<div class="ui top attached tabular menu">
  <div class="active item">result</div>
</div>
<div id="result1" class="ui bottom attached active tab segment">
</div>
<div id="result"></div>
<div id="results"></div>

</form>

<div class="eight wide column">
    <p>kago tuika test @shige 在庫6個の商品</p>
    <div class="ui labeled button" tabindex="0">
        <button id="addCart" class="ui blue button">注文</button>
        <a class="ui basic grey left pointing label">楽天カートに入れる</a>
    </div>
    <br> ↑ボタンを押すと↓楽天側のカゴに入る。<br>
    <a class="ui button" target="_blank" href="https://basket.step.rakuten.co.jp/rms/mall/bs/cart/?shop_bid=199614&l2-id=shop_header_cart">カゴ確認</a><br>
</div>

<pre class="grey text">
https://basket.step.rakuten.co.jp/rms/mall/bs/cart/?shop_bid=199614&l2-id=shop_header_cart

https://basket.step.rakuten.co.jp/rms/mall/bs/cart/?shop_bid=199614&added_item=10000075

要件
■まとめ買い対象商品
1. 初期状態はプロパーのみ選択可能な状態、まとめ買い対象はdisable、購入ボタンもdisable
2. プロパーを選択すると、まとめ買い対象はenable、購入ボタンもdisable
3. プロパーはdisableになり、変更できない
4. まとめ買い対象商品の数量を変更したもの(1以上)がまとめ買い対象商品としてカウントされる

■プロパー商品の変更方法
1. 選び直すボタンを設置、初期状態はdisable
2. プロパーを選択した時点で、enable
3. 選び直すをクリックすると、プロパーとまとめ買い対象がリセットされてプロパーがenable、まとめ買い対象がdisableの状態になる

■カゴに商品入れるリクエストの組み立て方
1. shopIdはshopjapanのもので固定
2. itemIdはHTMLに入れてもらう
3. unitsに個数を入れる
4. これを数量が選択してある商品分繰り返す
5. 全商品分リクエストしたらカゴのページに遷移
</pre>

</div>

<script type="text/javascript" src="js/rcart.js"></script>
