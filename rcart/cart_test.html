<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=shift_jis">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <link rel="stylesheet" href="semantic.min.css">
    <script src="semantic.min.js"></script>

    <!--<link href="css/reset.css" rel="stylesheet" type="text/css">
    <link href="css/common.css" rel="stylesheet" type="text/css">
    <link href="css/cnt_modal.css" rel="stylesheet" type="text/css">-->



</head>

<script type="text/javascript">
$(document).ready(function() {
   $('#target').load('modal.html');//modal contents
        // <!-- load modal html -->
        // <div id="target"></div>
});


$('#allform').submit(function(event) {
// ここでsubmitをキャンセルします。
    event.preventDefault();
});
// # link 無効
$(function() {
    $('a[href="#"].modal-cero').click(function() {
        $('#modal-cero').modal('show');
        return false;
    })
});
</script>
<body>


<div id="all" class="ui grid container">
    
    <pre class="six wide column">
    ・テスト環境GitHubからMono96確認用へ自動デプロイ設定
    ・新しいモーダルTest Of NewModal
    ・選ばれた選択肢の抽出、ラジオクリックで「選び直すボタン」を有効
    ・「選び直すボタン」により、選択リット＆数量選択無効
    ・ラジオボタン選んだら数量選択有効
    ・数量まで選択されたら「購入する」ボタン有効
    </pre>
    <div class="four wide column">
    <p><a href="#" class="modal-cero arrow_01">商品詳細を見る modal test</a></p>
    <a class="ui blue button" href="cart_test.html" >reload</a>
    <a class="ui red button" href="https://basket.step.rakuten.co.jp/rms/mall/bs/cart/" target="_blank" >楽天かご確認</a>
    
    </div>
</div>

        <!--<button id="go_cart" class="ui blue button disabled">go all注文shopjapan</button>-->
        <!--<button id="addCartSJ" class="ui blue button">注文shopjapan</button>
        <button id="addCartkuroko" class="ui blue button">注文</button>-->

<!--FORM!-->
<form id="allform" action onsubmit="showValues('on');return false;">

<div class="ui top attached button">Button before grid</div>


<!-- select -->
<div id="all" class="ui grid container">
  <!-- radio -->
<li>
  <div class="four wide column">
<div class="photo"><img src="img/mattress_cero_w260.jpg" width="256"></div>
<div class="text">
<h4 class="long">トゥルースリーパー cero＜セロ＞<br><span>（マットレス）</span></h4>
<p>通常販売価格：<em>22,800</em>円(税抜)〜</p>
<p><a href="#" class="modal-cero arrow_01">商品詳細を見る</a></p>
      <dl class="selectNum">
          <dt style="padding:8px 0 0;">シングルサイズ</dt>
          <dd><input type="radio" name="radio1" value="10000729"></dd>
          <dt style="padding:8px 0 0;">セミダブルサイズ</dt>
          <!--<dd><input type="radio" name="radio1" value="10000730"></dd>-->
          <dd><input type="radio" name="radio1" value="10000732"></dd>
          <dt style="padding:8px 0 10px;">ダブルサイズ</dt>
          <dd><input type="radio" name="radio1" value="10000731"></dd>
      </dl>
      <p><span class="note_04">※キャンペーン対象商品</span></p>
  </div>
  </div>
</li>



<button id="reset_radio" class="ui sixteen wide column disabled button" >
    <p></p>
    <p class="btn">
        <img alt="マットを選び直す" src="img/btn_buy_selected2.gif" width="365" height="50" >
    </p>
</button>


<li>
<div class="photo">
<img src="img/pillow_cero_w260.jpg" width="258">
</div>
<div class="text">
<h4>cero＜セロ＞ ピロー</h4>
<p>通常販売価格：<em>9,800</em>円(税抜)</p>
<p><a href="#" class="modal-ceropillow arrow_01">商品詳細を見る</a></p>
<p>マットレスと一緒に買ったら<span class="f_red">【20%OFF!】</span></p>
<dl class="selectNum">
<dt>1サイズのみ</dt>
<dd><select name="10002534" id="cart_119">
<option selected="selected">数量</option>
<option value="1">1</option>
<option value="2">2</option>
</select></dd>
</dl>
</div>
</li>
  <div class="four wide column">
      <h4 class="long">トゥルースリーパー cero＜セロ＞<br><span>（マットレス）</span></h4>
    <p>通常販売価格：<em>22,800</em>円(税抜)〜</p>
    <p><a href="#" class="modal-cero arrow_01">商品詳細を見る</a></p>
    <p>マットレスを複数購入すると、価格の安いほうが<span class="f_red">【30%OFF!】</span></p>
    <dl class="selectNum">
      <dt>シングルサイズ</dt>
      <dd><select name="10000729" id="cart_122">
        <option selected="selected">数量</option>
        <option value="1">1</option>
        <option value="2">2</option>
        </select></dd>
      <dt>セミダブルサイズ </dt>
      <dd><select name="10000730" id="cart_123">
        <option selected="selected">数量</option>
        <option value="1">1</option>
        <option value="2">2</option>
        </select></dd>
      <dt>ダブルサイズ</dt>
      <dd>
          <select name="10000731" id="cart_124">
          <option selected="selected">数量</option>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
      </dd>
    </dl>
    <p><span class="note_04">※キャンペーン対象商品</span></p>
  </div>

<style>
input[disabled][readonly]{background-color:black;}
</style>

<button id="go_cart" class="ui sixteen wide column disabled button" >
    <p>選択した商品と合計金額は、次ページでご確認いただけます。</p>
    <p class="btn">
        <!--<img alt="購入ボタン" onclick="showValues('on');" src="img/btn_buy_selected.gif" width="365" height="50" >-->
        <img alt="購入ボタン" src="img/btn_buy_selected.gif" width="365" height="50" >
    </p>
</button>


<p id=sel class="ui red text"></p>
<div class="ui alert"></div>

<div class="ui top attached tabular menu">
  <div class="active item">result</div>
</div>
<div class="ui bottom attached active tab segment">
    <p id="result1" ></p>
    <p id="result" ></p>
    <p id="results "></p>
</div>

</form>

<div class="eight wide column">
    <p>kago tuika test @shige 在庫6個の商品</p>
    <div class="ui labeled button" tabindex="0">
        <button id="addCart" class="ui blue button">注文</button>
        <a class="ui basic grey left pointing label">楽天カートに入れる</a>
    </div>
    <br> ↑ボタンを押すと↓楽天側のカゴに入る。<br>
    <a class="ui button" target="_blank" href="https://basket.step.rakuten.co.jp/rms/mall/bs/cart/">カゴ確認</a><br>
</div>



<pre class="grey text">
https://basket.step.rakuten.co.jp/rms/mall/bs/cart/?shop_bid=199614&l2-id=shop_header_cart

https://basket.step.rakuten.co.jp/rms/mall/bs/cart/?shop_bid=199614&added_item=10000075

要件
■まとめ買い対象商品
1. 初期状態はプロパーのみ選択可能な状態、まとめ買い対象はdisable、購入ボタンもdisable
2. プロパーを選択すると、まとめ買い対象はenable、購入ボタンもdisable
3. プロパーはdisableになり、変更できない
4. まとめ買い対象商品の数量を変更したもの(1以上)がまとめ買い対象商品としてカウントされる

■プロパー商品の変更方法
1. 選び直すボタンを設置、初期状態はdisable
2. プロパーを選択した時点で、enable
3. 選び直すをクリックすると、プロパーとまとめ買い対象がリセットされてプロパーがenable、まとめ買い対象がdisableの状態になる

■カゴに商品入れるリクエストの組み立て方
1. shopIdはshopjapanのもので固定
2. itemIdはHTMLに入れてもらう
3. unitsに個数を入れる
4. これを数量が選択してある商品分繰り返す
5. 全商品分リクエストしたらカゴのページに遷移
</pre>

</div>
        <!-- load modal html -->
        <div id="target"></div>

<script type="text/javascript" src="js/rcart.js"></script>


</body>
